# コンポーネント指向

[フロントエンドのコンポーネント設計に立ち向かう](https://qiita.com/seya/items/8814e905693f00cdade2)を自分なりに噛み砕いて抜粋

## 概念
GUIのパーツをモジュール化したもの

1. 情報構造
1. スタイル
1. 状態
1. インタラクション・機能

構成要素は上記４点で、実際に開発をする際にはUI毎に分割していけばよい。

## 情報構造とスタイル
情報構造とスタイルは密接した関係であるため一括に扱う

### Atomic Design

|単位|説明|
|:--|:--|
|Atom|UIの最小単位。それ以上機能的に分割できないもの。ボタンとかテキストとか。|
|Molecule|Atomを組み合わせて作られる要素。検索フォームとか。|
|Organisms|MoleculesやAtomを組み合わせて作られる要素。ヘッダーとかがイメージしやすい。  <br>Moleculeとの違いは単一の機能でなく複数の役割を持つこと|
|Template|Organismsを組み合わせたもの。いわゆるワイヤーフレーム|
|Pages|実際の文言などのデータがTemplateに注ぎ込まれたもの。|

### 単一責任の原則
コンポーネントは一つのことに責任を持つべき  
`Molecule`単位のコンポーネントを作成する時に特に重要になる

`Organisms`以上の単位は「機能」ではなく、「レイアウト」に責務を持つ  
例えば、ヘッダーは、ヘッダー自体に機能はなく、機能を持ったアイコン(Atom)や検索窓(Molecule)などの集合体である

### スタイルクローズド
スタイルには下記の2種類が存在する
- 見た目：コンポーネント自体の見た目
- レイアウト：内部のコンポーネント達を扱うレイアウト

これに対して、**スタイルクローズド**であるべきで下記2点が重要になる
- 子は親の「レイアウト」を知ってはならない
- 親は子の「見た目」を知ってはならない

### 可変スタイルを見極める
原則スタイルクローズドを守りつつ、親から子へのスタイル指示を可能にする  

基本的にはYAGNIの考え方で閉じて作るべき

## 状態とインタラクション
状態とはアプリケーションの動作時に変動しうる値
- データ
- UI
- セッション
- 通信
- ルーティング など

状態管理に関してはFluxアーキテクチャも参考になる

### ContainerコンポーネントとPresentationalコンポーネント
#### Presentationalコンポーネント
Presentationalコンポーネントは見た目だけに責務を持ち、状態を管理しない  
Containerコンポーネントは、Presentationalコンポーネントにデータを渡したり、イベントのコールバックを渡したりするのが責務

基本的に状態は可能な限り散らばせずに管理する

### コンポーネントに閉じた状態
例えば、「テキストフィールドのinputのstateをグローバルStoreに入れるのか？」  

"その状態"が一つのコンポーネントに閉じられているのであればコンポーネント外に展開するメリットはない

### 共通の振る舞いを抽出する・その実装のパターンを知る

TODO: ここの理解があやしい

